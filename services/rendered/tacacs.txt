
!! A simple implementation to enable tacacs+ on cisco switches
!
aaa new-model
!
tacacs server 10.0.0.1-SRV
    address ipv4 10.0.0.1
    key cisco
tacacs server 10.0.0.2-SRV
    address ipv4 10.0.0.2
    key cisco
!
aaa group server tacacs+ TACACS_GROUP
    server name 10.0.0.1-SRV
    server name 10.0.0.2-SRV
!
aaa authentication login SSH group TACACS_GROUP local
aaa authentication enable SSH group tacacs+ enable
aaa authorization config-commands
aaa authorization commands 0 SSH group TACACS_GROUP if-authenticated
aaa authorization commands 15 SSH group TACACS_GROUP if-authenticated
aaa accounting exec SSH start-stop group TACACS_GROUP
aaa accounting commands 0 SSH start-stop group TACACS_GROUP
aaa accounting commands 15 SSH start-stop group TACACS_GROUP
!
line vty 0 4
    login authentication TACACS_GROUP
    login authorization TACACS_GROUP
    login accounting TACACS_GROUP
    transport input telnet ssh
line vty 5 15
    login authentication TACACS_GROUP
    login authorization TACACS_GROUP
    login accounting TACACS_GROUP
    transport input telnet ssh
!